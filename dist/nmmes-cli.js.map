{"version":3,"sources":["webpack/universalModuleDefinition","webpack/bootstrap 3fa362ba7ee82fa3f3ac","/home/ayrton/Documents/nmmes-cli/src/profiles/anime-10bit.json","/home/ayrton/Documents/nmmes-cli/src/profiles/anime.json","external \"path\"","external \"bluebird\"","external \"nmmes-backend\"","/home/ayrton/Documents/nmmes-cli/src/index.js","/home/ayrton/Documents/nmmes-cli/src/options.js","/home/ayrton/Documents/nmmes-cli/src/profiles /^\\.\\/.*\\.json$/","external \"os\"","/home/ayrton/Documents/nmmes-cli/package.json","external \"yargs\"","external \"git-rev-sync\"","external \"fs\"","external \"requireg\"","external \"npmi\"","external \"is-url\"","external \"request-promise-native\"","/home/ayrton/Documents/nmmes-cli/src/profiles /\\.json$/","external \"chalk\"","external \"fs-extra\"","external \"mime\"","external \"recursive-readdir\""],"names":["STOPREQ","process","on","options","loadOptions","e","Logger","error","message","debug","exit","args","modules","setLevel","trace","videos","getVideoPaths","_","reduce","arr","path","outputBase","Path","basename","extname","outputFormat","outputPath","resolve","tempDirectory","push","input","output","Object","entries","map","name","modulePair","moduleClass","length","info","vid","chalk","yellow","relative","join","v","run","fs","exists","relativeDirToInput","dirname","relativeDestinationDir","destination","ensureDir","bold","move","then","err","warn","recursive","bluebird","promisify","require","ignoreFunc","file","stats","isDirectory","isVideo","stat","isFile","Error","SUPPORTED_EXTENSIONS","ext","mime","getType","startsWith","indexOf","loadedModules","module","mName","requireModule","loadModules","moduleDir","requireg","npmip","mod","ops","keys","defineProperty","getOwnPropertyDescriptor","assign","extractModuleOptions","profileLocation","localProfiles","profile","isUrl","rp","uri","json","existsSync","readFile","data","JSON","parse","Package","getProfile","cliSpecificOptions","describe","group","type","default","normalize","alias","os","tmpdir","cwd","choices","getVersion","realpathSync","version","gitVer","branch","short","formatted","cliArgs","yargs","help","usage","argv","console","log","watch","description","showHelp","moduleArgs","load","profiles","idx"],"mappings":"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B,IAArB,CAA9C;AACAtC,QAAA,qDAAAA,CAAOiC,IAAP,CAAa,iFAAb;AACAjC,QAAA,qDAAAA,CAAOiC,IAAP,CAAa;IACb,qDAAAiE,CAAQrE,IAAK;IACb,qDAAAqE,CAAQrE,IAAK,6FAFb;AAGA,cAAM,IAAImC,KAAJ,CAAW,WAAUsB,eAAgB,aAArC,CAAN;AACH,K;;oBAlCca,U;;;;;AAoCf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AA/fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMrB,QAAQ,gDAAAxB,CAASC,SAAT,CAAmB,4CAAnB,CAAd;;AAIA;;AAIA,MAAM6C,qBAAqB;AACvB,eAAW;AACPC,kBAAU,+BADH;AAEPC,eAAO,UAFA;AAGPC,cAAM,SAHC;AAIPC,iBAAS;AAJF,KADY;AAOvB,YAAQ;AACJH,kBAAU,qBADN;AAEJC,eAAO,UAFH;AAGJC,cAAM,SAHF;AAIJC,iBAAS;AAJL,KAPe;AAavB,gBAAY;AACRA,iBAAS,EADD;AAERH,kBAAU,yDAFF;AAGRE,cAAM,QAHE;AAIRE,mBAAW,IAJH;AAKRH,eAAO;AALC,KAbW;AAoBvB,eAAW;AACPE,iBAAS,MADF;AAEPH,kBAAU,oCAFH;AAGPE,cAAM,QAHC;AAIPD,eAAO;AAJA,KApBY;AA0BvB,SAAK;AACDI,eAAO,gBADN;AAEDF,iBAAS,4CAAAxF,CAAKK,OAAL,CAAa,0CAAAsF,CAAGC,MAAH,EAAb,EAA0B,qDAAAV,CAAQrE,IAAlC,CAFR;AAGDwE,kBAAU,gDAHT;AAIDE,cAAM,QAJL;AAKDE,mBAAW,IALV;AAMDH,eAAO;AANN,KA1BkB;AAkCvB,SAAK;AACDI,eAAO,aADN;AAEDF,iBAAS,4CAAAxF,CAAKK,OAAL,CAAa1B,QAA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","file":"nmmes-cli.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"nmmes-cli\"] = factory();\n\telse\n\t\troot[\"nmmes-cli\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3fa362ba7ee82fa3f3ac","module.exports = {\"version\":1,\"moduleOptions\":{\"nmmes-module-encoder\":{\"defaults\":{\"video\":{\"vf\":\"deband=r=32:1thr=0.01:2thr=0.01:3thr=0.01:4thr=0.01\",\"pixel_format\":\"yuv420p10le\",\"preset\":\"medium\"}}}},\"preset\":\"medium\",\"heAudio\":true}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./profiles/anime-10bit.json\n// module id = 0\n// module chunks = 0","module.exports = {\"version\":1,\"moduleOptions\":{\"nmmes-module-encoder\":{\"defaults\":{\"video\":{\"pixel_format\":\"yuv420p\",\"preset\":\"medium\"}}}},\"preset\":\"medium\",\"heAudio\":true}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./profiles/anime.json\n// module id = 1\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"bluebird\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebird\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"nmmes-backend\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nmmes-backend\"\n// module id = 4\n// module chunks = 0","import loadOptions from './options.js';\nimport chalk from 'chalk';\nimport {\n    Video,\n    Logger\n} from 'nmmes-backend';\nimport Path from 'path';\nimport fs from 'fs-extra';\n\n// Make sure log level is at default info\n// Logger.setLevel('info');\n\nlet STOPREQ = false;\n\nprocess.on('SIGINT', () => STOPREQ = true);\n\n(async () => {\n    let options;\n    try {\n        options = await loadOptions();\n    } catch (e) {\n        Logger.error(e.message);\n        Logger.debug(e);\n        process.exit(1);\n    }\n\n    let args = options.args,\n        modules = options.modules;\n\n    if (options.args.debug)\n        Logger.setLevel('trace');\n\n    Logger.trace('Options:', options.args);\n\n    let videos = (await getVideoPaths(args._[0])).reduce((arr, path) => {\n        const outputBase = Path.basename(path, Path.extname(path)) + '.' + args.outputFormat;\n        const outputPath = Path.resolve(args.tempDirectory, outputBase);\n        arr.push(new Video({\n            input: {\n                path\n            },\n            output: {\n                path: outputPath\n            },\n            modules: Object.entries(modules).map(modulePair => {\n                let name = modulePair[0];\n                let moduleClass = modulePair[1];\n\n                return new moduleClass();\n            })\n        }));\n        return arr;\n    }, []);\n\n\n\n    if (videos.length > 1)\n        Logger.info('Videos found:\\n\\t-', videos.map((vid) => {\n            return chalk.yellow(Path.relative(options._[0], vid.input.path));\n        }).join('\\n\\t- '));\n\n    for (let v of videos) {\n        try {\n            await v.run();\n\n            if (await fs.exists(v.output.path)) {\n                const relativeDirToInput = Path.dirname(Path.relative(options._[0], v.input.path));\n                const relativeDestinationDir = Path.resolve(options.destination, relativeDirToInput);\n                const destination = Path.resolve(relativeDestinationDir, Path.basename(v.output.path));\n\n                Logger.trace(`Creating destination directory ${relativeDestinationDir}.`);\n                await fs.ensureDir(relativeDestinationDir);\n\n                Logger.debug(`Moving ${chalk.bold(v.output.path)} -> ${chalk.bold(destination)}... Wait for completion message.`);\n                fs.move(v.output.path, destination).then(() => Logger.debug(`Moved ${chalk.bold(v.output.path)} -> ${chalk.bold(destination)}.`), err => {\n                    throw err;\n                });\n            }\n        } catch (e) {\n            Logger.error(e);\n            if (STOPREQ) {\n                Logger.warn('Stopping because SIGINT receieved.');\n                break;\n            }\n        }\n    }\n\n    Logger.info('Processing finished.');\n})();\n\nimport bluebird from 'bluebird';\nimport mime from 'mime';\nconst recursive = bluebird.promisify(require('recursive-readdir'));\n\nexport async function getVideoPaths(path) {\n    function ignoreFunc(file, stats) {\n        if (stats.isDirectory())\n            return false;\n        return !isVideo(file);\n    }\n    let stats = await fs.stat(path);\n\n    if (stats.isFile() && isVideo(path)) {\n        return [path];\n    } else if (stats.isDirectory()) {\n        return recursive(path, [ignoreFunc]);\n    } else {\n        throw new Error('Unsupported file type.');\n    }\n}\n\nconst SUPPORTED_EXTENSIONS = ['.m2ts'];\n\nexport function isVideo(path) {\n    const ext = Path.extname(path);\n    if (!ext) return false;\n    return mime.getType(ext).startsWith('video/') || ~SUPPORTED_EXTENSIONS.indexOf(ext);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import Path from 'path';\nimport os from 'os';\nimport Package from '../package.json';\nimport yargs from 'yargs';\nimport gitVer from 'git-rev-sync';\nimport fs from 'fs';\nimport requireg from 'requireg';\nimport bluebird from 'bluebird';\nimport npmi from 'npmi';\nconst npmip = bluebird.promisify(npmi);\nimport {\n    merge\n} from 'lodash';\nimport {\n    Logger\n} from 'nmmes-backend';\n\nconst cliSpecificOptions = {\n    'version': {\n        describe: 'Displays version information.',\n        group: 'General:',\n        type: 'boolean',\n        default: false\n    },\n    'help': {\n        describe: 'Displays help page.',\n        group: 'General:',\n        type: 'boolean',\n        default: false\n    },\n    'log-file': {\n        default: '',\n        describe: 'Sets the log file location for all output from h265ize.',\n        type: 'string',\n        normalize: true,\n        group: 'General:'\n    },\n    'profile': {\n        default: 'none',\n        describe: 'Url or name of an encoding preset.',\n        type: 'string',\n        group: 'General:'\n    },\n    'g': {\n        alias: 'temp-directory',\n        default: Path.resolve(os.tmpdir(), Package.name),\n        describe: 'Folder where files are stored during encoding.',\n        type: 'string',\n        normalize: true,\n        group: 'General:'\n    },\n    'd': {\n        alias: 'destination',\n        default: Path.resolve(process.cwd(), 'nmmes-out'),\n        describe: 'Folder where encoded files are output.',\n        type: 'string',\n        normalize: true,\n        group: 'General:'\n    },\n    'f': {\n        alias: 'output-format',\n        default: 'mkv',\n        describe: 'Output container format.',\n        choices: ['mkv', 'mp4', 'm4v'],\n        type: 'string',\n        group: 'General:'\n    },\n    'debug': {\n        default: false,\n        describe: 'Enables debug mode. Prints extra debugging information.',\n        type: 'boolean',\n        group: 'Advanced:'\n    },\n    'modules': {\n        describe: 'List of modules to enable',\n        group: 'General:',\n        type: 'array',\n        default: ['encoder', 'he-audio', 'sample', 'normalize']\n    }\n};\n\nexport function getVersion() {\n    try {\n        if (fs.existsSync('node_modules')) {\n            let path = Path.resolve(fs.realpathSync('node_modules'), '../');\n            let version = gitVer.branch(path) + '#' + gitVer.short(path);\n            return {\n                version: Package.version,\n                formatted: `(Development Build) ${version}`\n            };\n        }\n    } catch (e) {\n        return {\n            version: Package.version,\n            formatted: Package.version\n        };\n    }\n}\n\nexport default async function load() {\n    let cliArgs = yargs\n        .version(false)\n        .help(false)\n        .usage('Usage: $0 [options] file|directory')\n        .options(cliSpecificOptions).argv;\n\n    let modules = await loadModules(cliArgs.modules);\n    let options = await extractModuleOptions(modules);\n\n    if (cliArgs.version) {\n        console.log(`${Package.name} ${getVersion().formatted}`);\n        process.exit();\n    } else if (cliArgs.help || (cliArgs._.length < 1 && !cliArgs.watch)) {\n        console.log('Package:', Package.name, '\\t', 'Version:', getVersion().formatted);\n        console.log('Description:', Package.description);\n        yargs.showHelp();\n        process.exit();\n    }\n\n    // TODO: Profile doesn't work\n    if (cliArgs.profile)\n        Object.assign(cliArgs, await getProfile(cliArgs.profile));\n\n    Object.assign(options, cliSpecificOptions);\n\n    let moduleArgs = yargs\n        .version(false)\n        .help(false)\n        .usage('Usage: $0 [options] file|directory')\n        .options(options).argv;\n\n    return {\n        args: moduleArgs,\n        modules\n    };\n}\n\nasync function loadModules(modules) {\n    let loadedModules = {};\n\n    for (let module of modules) {\n        let mName = `nmmes-module-${module}`;\n        loadedModules[module] = await requireModule(mName);\n    }\n    return loadedModules;\n}\n\nconst moduleDir = './external-modules';\nasync function requireModule(name) {\n    const path = Path.resolve(Path.join(moduleDir, 'node_modules', name));\n    try {\n        return requireg(path);\n    } catch (e) {\n        Logger.info(`Attempting to install ${name}`);\n        await npmip({\n            path: moduleDir,\n            name\n        });\n        return requireg(path);\n    }\n}\n\nasync function extractModuleOptions(modules) {\n    let options = {};\n    for (let [mName, mod] of Object.entries(modules)) {\n        let ops = mod.options();\n        for (let name of Object.keys(ops)) {\n            Object.defineProperty(ops, `${mName}-${name}`,\n                Object.getOwnPropertyDescriptor(ops, name));\n            delete ops[name];\n        }\n        Object.assign(options, ops);\n    }\n    return options;\n}\n\n\nimport isUrl from 'is-url';\nimport rp from 'request-promise-native';\n\nexport function localProfiles() {\n    let profiles = require.context('./profiles/', true, /\\.json$/).keys();\n    for (let idx in profiles) {\n        profiles[idx] = Path.basename(profiles[idx], '.json');\n    }\n    return profiles;\n}\n\nasync function getProfile(profileLocation) {\n    if (profileLocation === 'none')\n        return {};\n\n    if (~localProfiles().indexOf(profileLocation)) {\n        Logger.trace(`Built in profile \"${profileLocation}\" found!`);\n        let profile = require('./profiles/' + profileLocation + '.json');\n        return profile;\n    }\n\n    if (isUrl(profileLocation))\n        try {\n            return await rp({\n                uri: profileLocation,\n                json: true\n            });\n        } catch (e) {\n            throw new Error(`Error retreiving profile: ${e.message}`);\n        }\n\n    if (fs.existsSync(profileLocation)) {\n        return fs.readFile(profileLocation, (err, data) => {\n            if (err)\n                throw err;\n            return JSON.parse(data);\n        });\n    }\n\n    Logger.info('Availiable local profiles are:', localProfiles().join(', '));\n    Logger.info(`You may activate a profile via it's local name or a url to a profile json file.`);\n    Logger.info(`Examples:\n\\t${Package.name} --profile anime my/movies/folder\n\\t${Package.name} --profile https://raw.githubusercontent.com/NMMES/nmmes-cli/master/src/profiles/anime.json`)\n    throw new Error(`Profile ${profileLocation} not found.`);\n}\n\n// const options = {\n//     'version': {\n//         describe: 'Displays version information.',\n//         group: 'General:',\n//         type: 'boolean',\n//         default: false\n//     },\n//     'help': {\n//         describe: 'Displays help page.',\n//         group: 'General:',\n//         type: 'boolean',\n//         default: false\n//     },\n//     'g': {\n//         alias: 'temp-directory',\n//         default: Path.resolve(os.tmpdir(), Package.name),\n//         describe: 'Folder where files are stored during encoding.',\n//         type: 'string',\n//         normalize: true,\n//         group: 'General:'\n//     },\n\n//     'skip': {\n//         describe: 'Skips videos already encoded with a specific codec.',\n//         type: 'string',\n//         group: 'General:'\n//     },\n//     'p': {\n//         alias: 'preview',\n//         default: false,\n//         describe: 'Only encode a preview of the video starting at middle of video. See -l/--preview-length for more info.',\n//         type: 'boolean',\n//         group: 'General:'\n//     },\n//     'log-file': {\n//         default: '',\n//         describe: 'Sets the log file location for all output from h265ize.',\n//         type: 'string',\n//         normalize: true,\n//         group: 'General:'\n//     },\n//     'm': {\n//         alias: 'preset',\n//         default: 'fast',\n//         describe: 'x265 encoder preset.',\n//         choices: ['ultrafast', 'superfast', 'veryfast', 'faster', 'fast', 'medium', 'slow', 'slower', 'veryslow', 'placebo'],\n//         type: 'string',\n//         group: 'General:'\n//     },\n//     'n': {\n//         alias: 'native-language',\n//         default: normalizer.defaults().language,\n//         describe: 'The native language used to select default audio and subtitles. You may use 3 letter or 2 letter ISO 639-2 Alpha-3/Alpha-2 codes or the full language name. Examples: [eng|en|English|jpn|ja|Japanese]',\n//         type: 'string',\n//         group: 'General:'\n//     },\n\n//     'c': {\n//         alias: 'video-codec',\n//         default: encoder.defaults().defaults.video['c:{POS}'],\n//         describe: 'Video codec to encode the video to.',\n//         choices: ['libx264', 'libx265'],\n//         type: 'string',\n//         group: 'Video:'\n//     },\n//     'profile': {\n//         default: 'none',\n//         describe: 'My personal presets. Descriptions of each preset\\'s use and function can be found on the github wiki.',\n//         type: 'string',\n//         group: 'Video:'\n//     },\n//     // 'x': {\n//     //     alias: 'extra-options',\n//     //     default: '',\n//     //     describe: 'Options provided directly to the encoder.',\n//     //     type: 'string',\n//     //     group: 'Advanced:'\n//     // },\n//     'q': {\n//         alias: 'quality',\n//         default: 19,\n//         describe: 'Sets the qp quality target',\n//         type: 'number',\n//         group: 'Video:'\n//     },\n//     // 'video-bitrate': {\n//     //     default: 0,\n//     //     describe: 'Sets the video bitrate, set to 0 to use qp rate control instead of a target bitrate.',\n//     //     type: 'number',\n//     //     group: 'Video:'\n//     // },\n//     // 'accurate-timestamps': {\n//     //     default: false,\n//     //     describe: 'Become blu-ray complient and reduce the max keyInt to the average frame rate.',\n//     //     type: 'boolean',\n//     //     group: 'Video:'\n//     // },\n//     'he-audio': {\n//         default: false,\n//         describe: `Re-encode audio to opus at ${heAudio.defaults().bitratePerChannel}kbps/channel.`,\n//         type: 'boolean',\n//         group: 'Audio:'\n//     },\n//     'force-he-audio': {\n//         default: heAudio.defaults().encodeLossless,\n//         describe: 'Convert all audio to HE format, including lossless formats. Enables he-audio.',\n//         type: 'boolean',\n//         group: 'Audio:'\n//     },\n//     'downmix-he-audio': {\n//         default: heAudio.defaults().downmix,\n//         describe: `Downmix he-audio opus to Dolby Pro Logic II at ${heAudio.defaults().bitratePerChannel}kbps/channel. Enables he-audio.`,\n//         type: 'boolean',\n//         group: 'Audio:'\n//     },\n//     // 'multi-pass': {\n//     //     default: 0,\n//     //     describe: 'Enable multiple passes by the encoder. Must be greater than 1.',\n//     //     type: 'number',\n//     //     group: 'Video:'\n//     // },\n//     'bitdepth': {\n//         default: 0,\n//         describe: 'Forces encoding videos at a specific bitdepth. Set to 0 to maintain original bitdepth.',\n//         type: 'number',\n//         group: 'Video:'\n//     },\n//     'screenshots': {\n//         default: 0,\n//         describe: 'Take n screenshots at regular intervals throughout the finished encode.',\n//         type: 'number',\n//         group: 'Video:'\n//     },\n//     'normalize-level': {\n//         default: 2,\n//         describe: 'Level of normalization to be applied. See https://github.com/FallingSnow/h265ize/issues/56 for more info.',\n//         type: 'number',\n//         group: 'Video:'\n//     },\n//     'scale': {\n//         default: 0,\n//         describe: 'Width videos should be scaled to. Videos will always maintain original aspect ratio. [Examples: 720, 480]',\n//         type: 'number',\n//         group: 'Video:'\n//     },\n//     'stats': {\n//         default: false,\n//         describe: 'Output a stats file containing stats to this destination.',\n//         type: 'string',\n//         group: 'Advanced:'\n//     },\n//     'debug': {\n//         default: false,\n//         describe: 'Enables debug mode. Prints extra debugging information.',\n//         type: 'boolean',\n//         group: 'Advanced:'\n//     },\n//     'delete': {\n//         default: false,\n//         describe: 'Delete source after encoding is complete and replaces it with new encode. [DANGER]',\n//         type: 'boolean',\n//         group: 'Advanced:'\n//     },\n//     'l': {\n//         alias: 'preview-length',\n//         default: sample.defaults().length,\n//         describe: 'Milliseconds to encode in preview mode. Max is half the length of input video.',\n//         type: 'number',\n//         group: 'Advanced:'\n//     },\n//     // 'watch': {\n//     //     default: '',\n//     //     describe: 'Watches a directory for new video files to be converted.',\n//     //     type: 'string',\n//     //     group: 'Advanced:'\n//     // },\n//     'simple': {\n//         default: false,\n//         describe: 'Disables the interface. Simply prints to the terminal.',\n//         type: 'boolean',\n//         group: 'Advanced:'\n//     },\n//     'modules': {\n//         default: [],\n//         describe: 'A list of modules to import.',\n//         type: 'array',\n//         group: 'Advanced:'\n//     },\n//     'test': {\n//         default: false,\n//         describe: 'Puts nmmes in test mode. No files will be encoded.',\n//         type: 'boolean',\n//         group: 'Advanced:'\n//     },\n// };\n// let args = yargs\n//     .version(false)\n//     .help(false)\n//     .usage('Usage: $0 [options] file|directory')\n//     .options(options).argv;\n//\n// const yargAliases = yargs.choices().parsed.aliases;\n//\n//\n// function explicitFlags() {\n//     let flags = {};\n//     for (let option of Object.keys(args)) {\n//         if (userSetOption(option, false)) flags[option] = args[option];\n//     }\n//     return flags;\n// }\n//\n// export function userSetOption(option, aliases = true) {\n//     function searchForOption(option) {\n//         return ~process.argv.indexOf(option);\n//     }\n//\n//     if (searchForOption(`-${option}`) || searchForOption(`--${option}`))\n//         return true;\n//\n//     // Handle aliases for same option\n//     if (aliases)\n//         for (let aliasIndex in yargAliases[option]) {\n//             let alias = yargAliases[option][aliasIndex];\n//             if (searchForOption(`-${alias}`) || searchForOption(`--${alias}`))\n//                 return true;\n//         }\n//\n//     return false;\n// }\n//\n// function flagsToModuleOptions(flags) {\n//     let moduleOptions = {\n//         'nmmes-module-encoder': {\n//             defaults: {\n//                 video: {\n//                     vf: []\n//                 }\n//             }\n//         },\n//         'nmmes-module-normalize': {},\n//         'nmmes-module-he-audio': {},\n//         'nmmes-module-sample': {},\n//     };\n//     if (flags.videoCodec) moduleOptions['nmmes-module-encoder'].defaults.video['c:{POS}'] = flags.videoCodec;\n//     if (flags.bitdepth) {\n//         if (flags.bitdepth === 8) {\n//             moduleOptions['nmmes-module-encoder'].defaults.video.pixel_format = 'yuv420p';\n//         } else if (flags.bitdepth === 10) {\n//             moduleOptions['nmmes-module-encoder'].defaults.video.pixel_format = 'yuv420p10le';\n//         } else if (flags.bitdepth === 12) {\n//             moduleOptions['nmmes-module-encoder'].defaults.video.pixel_format = 'yuv420p12le';\n//         }\n//     }\n//     if (flags.scale) moduleOptions['nmmes-module-encoder'].defaults.video.vf.push(`scale=${flags.scale}:-2`);\n//     if (flags.preset) moduleOptions['nmmes-module-encoder'].defaults.video.preset = flags.preset;\n//     if (flags.quality) moduleOptions['nmmes-module-encoder'].defaults.video.crf = flags.quality;\n//     if (flags.preview) {\n//         moduleOptions['nmmes-module-encoder'].defaults.video.t = flags.previewLength / 1000;\n//     }\n//     if (flags.nativeLangage) moduleOptions['nmmes-module-normalize'].language = flags.nativeLangage;\n//     if (flags.forceHeAudio) moduleOptions['nmmes-module-he-audio'].force = flags.forceHeAudio;\n//     if (flags.downmixHeAudio) moduleOptions['nmmes-module-he-audio'].downmix = flags.downmixHeAudio;\n//     if (flags.previewLength) moduleOptions['nmmes-module-sample'].length = flags.previewLength;\n//\n//     return moduleOptions;\n// }\n//\n// function applyAliases(flags) {\n//     for (let flag of Object.keys(flags)) {\n//         for (let aliasIndex in yargAliases[flag]) {\n//             let alias = yargAliases[flag][aliasIndex];\n//             flags[alias] = flags[flag];\n//         }\n//     }\n//     return flags;\n// }\n//\n// export default async function flags() {\n//     const profile = await getProfile(args.profile);\n//     let options = Object.assign(args, applyAliases(profile), applyAliases(explicitFlags()));\n//     merge(options, {\n//         moduleOptions: flagsToModuleOptions(options)\n//     });\n//     return options;\n// }\n//\n// Logger.trace('Options parser loaded.');\n\n\n\n// WEBPACK FOOTER //\n// ./options.js","var map = {\n\t\"./anime-10bit.json\": 0,\n\t\"./anime.json\": 1\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 8;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./profiles ^\\.\\/.*\\.json$\n// module id = 8\n// module chunks = 0","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 9\n// module chunks = 0","module.exports = {\"name\":\"nmmes-cli\",\"version\":\"0.0.1\",\"description\":\"A command line interface front end for nmmes-backend.\",\"author\":\"Ayrton Sparling\",\"license\":\"LGPL-3.0\",\"engines\":{\"node\":\">=6.4.0\"},\"bin\":{\"nmmes\":\"nmmes-cli.js\"},\"scripts\":{\"check-dep\":\"npm-check -i source-map-loader -i source-map-support -i eslint || true \",\"test\":\"npm run build && npm run update-submodules && mocha-webpack --ui tdd test/cli.spec.js\",\"dev\":\"webpack --env=development --watch\",\"update-submodules\":\"git submodule foreach git pull origin master\",\"dist\":\"webpack --define process.env.NODE_ENV=\\\"production\\\" --env=production --progress\",\"build\":\"npm run dist && npm run pack\",\"pack\":\"pkg -t latest-linux-x64,latest-win-x64 ./dist/package.json --out-path build\",\"profile\":\"node --prof-process isolate-0xnnnnnnnnnnnn-v8.log > processed.txt\",\"preversion\":\"npm test\",\"version\":\"git add . && git commit -S\",\"postversion\":\"git push\",\"patch-release\":\"npm version patch && npm publish\"},\"main\":\"dist/nmmes-cli.js\",\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/NMMES/nmmes-cli.git\"},\"dependencies\":{\"bluebird\":\"^3.5.1\",\"chalk\":\"^2.1.0\",\"fluent-ffmpeg\":\"^2.1.2\",\"fs-extra\":\"^4.0.2\",\"git-rev-sync\":\"^1.9.1\",\"is-url\":\"^1.2.2\",\"lodash\":\"^4.17.4\",\"mime\":\"^2.0.3\",\"moment\":\"^2.19.0\",\"moment-duration-format\":\"^1.3.0\",\"nmmes-module-autocrop\":\"^0.0.1\",\"nmmes-module-encoder\":\"^0.0.1\",\"nmmes-module-normalize\":\"^0.0.1\",\"nmmes-module-sample\":\"^0.0.1\",\"npmi\":\"^4.0.0\",\"recursive-readdir\":\"^2.2.1\",\"request\":\"^2.83.0\",\"request-promise-native\":\"^1.0.5\",\"requireg\":\"^0.1.7\",\"source-map-support\":\"^0.5.0\",\"yargs\":\"^9.0.1\"},\"devDependencies\":{\"babel-core\":\"^6.26.0\",\"babel-eslint\":\"^8.0.1\",\"babel-loader\":\"^7.1.2\",\"babel-plugin-lodash\":\"^3.2.11\",\"babel-plugin-module-resolver\":\"^2.7.1\",\"babel-preset-es2016\":\"^6.24.1\",\"babel-preset-stage-2\":\"^6.24.1\",\"babel-register\":\"^6.26.0\",\"babel-runtime\":\"^6.26.0\",\"chai\":\"^4.1.2\",\"eslint\":\"^4.8.0\",\"mocha\":\"^4.0.1\",\"mocha-webpack\":\"^0.7.0\",\"npm-check\":\"^5.4.5\",\"pkg\":\"^4.2.5\",\"source-map-loader\":\"^0.2.2\",\"webpack\":\"^3.6.0\",\"webpack-node-externals\":\"^1.6.0\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../package.json\n// module id = 10\n// module chunks = 0","module.exports = require(\"yargs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"yargs\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"git-rev-sync\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"git-rev-sync\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"requireg\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"requireg\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"npmi\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"npmi\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"is-url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"is-url\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"request-promise-native\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"request-promise-native\"\n// module id = 17\n// module chunks = 0","var map = {\n\t\"./anime-10bit.json\": 0,\n\t\"./anime.json\": 1\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 18;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./profiles \\.json$\n// module id = 18\n// module chunks = 0","module.exports = require(\"chalk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chalk\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"mime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mime\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"recursive-readdir\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"recursive-readdir\"\n// module id = 22\n// module chunks = 0"],"sourceRoot":""}