{"version":3,"sources":["webpack/universalModuleDefinition","webpack/bootstrap 5cf608ada40d04497c16","/home/ayrton/Documents/nmmes-cli/package.json","external \"path\"","/home/ayrton/Documents/nmmes-cli/src/utils/isVideo.js","external \"chalk\"","external \"yargs\"","/home/ayrton/Documents/nmmes-cli/src/index.js","/home/ayrton/Documents/nmmes-cli/src/list.js","/home/ayrton/Documents/nmmes-cli/src/options.js","/home/ayrton/Documents/nmmes-cli/src/screen.js","/home/ayrton/Documents/nmmes-cli/src/utils/getVideoFiles.js","/home/ayrton/Documents/nmmes-cli/src/utils/index.js","external \"blessed\"","external \"bluebird\"","external \"cli-spinners\"","external \"figures\"","external \"fs\"","external \"fs-extra\"","external \"lodash.merge\"","external \"lodash.throttle\"","external \"mime\"","external \"nmmes-backend\"","external \"nmmes-module-autocrop\"","external \"nmmes-module-encoder\"","external \"nmmes-module-he-audio\"","external \"nmmes-module-normalize\"","external \"nmmes-module-sample\"","external \"nmmes-module-stats\"","external \"node-noop\"","external \"optional\"","external \"os\"","external \"recursive-readdir\"","external \"stream\""],"names":["SUPPORTED_EXTENSIONS","isVideo","path","mime","lookup","startsWith","indexOf","Path","extname","Promise","config","warnings","longStackTraces","cancellation","monitoring","heAudio","require","encoder","normalizer","autocrop","stats","sample","screen","videos","currentVideoIdx","Options","simple","logStream","Logger","stream","console","oldLog","log","oldError","error","apply","arguments","key","ch","killCounter","destroy","process","kill","pid","_status","content","stop","Error","createVideos","paths","resolve","reject","debug","length","join","modules","normalizeLevel","push","encodeLossless","forceHeAudio","defaults","video","videoCodec","quality","preset","output","previewLength","tempOutput","format","dir","tempDirectory","name","parse","ext","outputFormat","finalOutput","destination","dirname","relative","_","delete","fs","existsSync","warn","chalk","bold","basename","input","createVideoList","items","reduce","arr","list","module","item","title","displayName","once","state","err","message","split","base","info","move","overwrite","then","catch","loop","i","start","statusRunning","setLevel","videoList","statusFinished","THROTTLE","Item","constructor","options","_state","_error","_open","onUpdate","render","throttle","icon","replace","iconFrame","Object","assign","interval","setInterval","bind","clearInterval","open","_option","red","trim","cliSpinners","dots","frames","blue","figures","tick","cross","List","_self","userSettings","optional","cwd","Package","args","yargs","usage","describe","group","alias","default","os","tmpdir","type","normalize","choices","argv","help","version","description","showHelp","exit","text","padding","left","right","box","border","style","fg","program","blessed","hideCursor","Screen","fastCSR","dockBorders","init","_statusBar","merge","parent","bottom","height","bg","_videoList","label","top","width","_log","scrollback","scrollbar","inverse","mouse","on","_videoListStatus","align","_list","scrollable","failed","successful","setContent","buffer","string","toString","pushLine","statusWatching","getVideoFiles","ignoreFunc","file","isDirectory","stat","isFile","recursive"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACpEA,iC;;;;;;;;;;;;ACAA;AACA;;AAEA,MAAMA,uBAAuB,CAAC,OAAD,CAA7B;;AAEO,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;AAC1B,WAAO,4CAAAC,CAAKC,MAAL,CAAYF,IAAZ,EAAkBG,UAAlB,CAA6B,QAA7B,KAA0C,CAACL,qBAAqBM,OAArB,CAA6B,4CAAAC,CAAKC,OAAL,CAAaN,IAAb,CAA7B,CAAlD;AACH;AACD,yDAAeD,OAAf,E;;;;;;ACRA,kC;;;;;;ACAA,kC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA,gDAAAQ,CAAQC,MAAR,CAAe;AACX;AACAC,cAAU,IAFC;AAGX;AACAC,qBAAiB,IAJN;AAKX;AACAC,kBAAc,KANH;A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","file":"nmmes-cli.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"path\"), require(\"chalk\"), require(\"yargs\"), require(\"blessed\"), require(\"bluebird\"), require(\"cli-spinners\"), require(\"figures\"), require(\"fs\"), require(\"fs-extra\"), require(\"lodash.merge\"), require(\"lodash.throttle\"), require(\"mime\"), require(\"nmmes-backend\"), require(\"nmmes-module-autocrop\"), require(\"nmmes-module-encoder\"), require(\"nmmes-module-he-audio\"), require(\"nmmes-module-normalize\"), require(\"nmmes-module-sample\"), require(\"nmmes-module-stats\"), require(\"node-noop\"), require(\"optional\"), require(\"os\"), require(\"recursive-readdir\"), require(\"stream\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"path\", \"chalk\", \"yargs\", \"blessed\", \"bluebird\", \"cli-spinners\", \"figures\", \"fs\", \"fs-extra\", \"lodash.merge\", \"lodash.throttle\", \"mime\", \"nmmes-backend\", \"nmmes-module-autocrop\", \"nmmes-module-encoder\", \"nmmes-module-he-audio\", \"nmmes-module-normalize\", \"nmmes-module-sample\", \"nmmes-module-stats\", \"node-noop\", \"optional\", \"os\", \"recursive-readdir\", \"stream\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"nmmes-cli\"] = factory(require(\"path\"), require(\"chalk\"), require(\"yargs\"), require(\"blessed\"), require(\"bluebird\"), require(\"cli-spinners\"), require(\"figures\"), require(\"fs\"), require(\"fs-extra\"), require(\"lodash.merge\"), require(\"lodash.throttle\"), require(\"mime\"), require(\"nmmes-backend\"), require(\"nmmes-module-autocrop\"), require(\"nmmes-module-encoder\"), require(\"nmmes-module-he-audio\"), require(\"nmmes-module-normalize\"), require(\"nmmes-module-sample\"), require(\"nmmes-module-stats\"), require(\"node-noop\"), require(\"optional\"), require(\"os\"), require(\"recursive-readdir\"), require(\"stream\"));\n\telse\n\t\troot[\"nmmes-cli\"] = factory(root[\"path\"], root[\"chalk\"], root[\"yargs\"], root[\"blessed\"], root[\"bluebird\"], root[\"cli-spinners\"], root[\"figures\"], root[\"fs\"], root[\"fs-extra\"], root[\"lodash.merge\"], root[\"lodash.throttle\"], root[\"mime\"], root[\"nmmes-backend\"], root[\"nmmes-module-autocrop\"], root[\"nmmes-module-encoder\"], root[\"nmmes-module-he-audio\"], root[\"nmmes-module-normalize\"], root[\"nmmes-module-sample\"], root[\"nmmes-module-stats\"], root[\"node-noop\"], root[\"optional\"], root[\"os\"], root[\"recursive-readdir\"], root[\"stream\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_16__, __WEBPACK_EXTERNAL_MODULE_17__, __WEBPACK_EXTERNAL_MODULE_18__, __WEBPACK_EXTERNAL_MODULE_19__, __WEBPACK_EXTERNAL_MODULE_20__, __WEBPACK_EXTERNAL_MODULE_21__, __WEBPACK_EXTERNAL_MODULE_22__, __WEBPACK_EXTERNAL_MODULE_23__, __WEBPACK_EXTERNAL_MODULE_24__, __WEBPACK_EXTERNAL_MODULE_25__, __WEBPACK_EXTERNAL_MODULE_26__, __WEBPACK_EXTERNAL_MODULE_27__, __WEBPACK_EXTERNAL_MODULE_28__, __WEBPACK_EXTERNAL_MODULE_29__, __WEBPACK_EXTERNAL_MODULE_30__, __WEBPACK_EXTERNAL_MODULE_31__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 32);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5cf608ada40d04497c16","module.exports = {\n\t\"name\": \"nmmes-cli\",\n\t\"version\": \"0.0.1\",\n\t\"description\": \"A command line interface front end for nmmes-backend.\",\n\t\"author\": \"Ayrton Sparling\",\n\t\"license\": \"LGPL-3.0\",\n\t\"engines\": {\n\t\t\"node\": \">=6.4.0\"\n\t},\n\t\"bin\": {\n\t\t\"nmmes\": \"nmmes-cli.js\"\n\t},\n\t\"scripts\": {\n\t\t\"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\n\t\t\"dev\": \"webpack --env=development --watch\",\n\t\t\"build\": \"webpack --define process.env.NODE_ENV=\\\"production\\\" --env=production --progress\",\n\t\t\"profile\": \"node --prof-process isolate-0xnnnnnnnnnnnn-v8.log > processed.txt\",\n\t\t\"preversion\": \"npm test\",\n\t\t\"version\": \"git add .\",\n\t\t\"postversion\": \"git push && git push --tags\",\n\t\t\"patch-release\": \"npm version patch && npm publish\"\n\t},\n\t\"main\": \"nmmes-cli.js\",\n\t\"repository\": {\n\t\t\"type\": \"git\",\n\t\t\"url\": \"https://github.com/NMMES/nmmes-cli.git\"\n\t},\n\t\"dependencies\": {\n\t\t\"blessed\": \"^0.1.81\",\n\t\t\"bluebird\": \"^3.5.0\",\n\t\t\"chalk\": \"^1.1.3\",\n\t\t\"cli-spinners\": \"^1.0.0\",\n\t\t\"figures\": \"^2.0.0\",\n\t\t\"fs-extra\": \"^3.0.1\",\n\t\t\"lodash.merge\": \"^4.6.0\",\n\t\t\"lodash.throttle\": \"^4.1.1\",\n\t\t\"mime\": \"^1.3.6\",\n\t\t\"moment\": \"^2.18.1\",\n\t\t\"moment-duration-format\": \"^1.3.0\",\n\t\t\"nmmes-backend\": \"^0.0.1\",\n\t\t\"nmmes-module-autocrop\": \"^0.0.1\",\n\t\t\"nmmes-module-encoder\": \"^0.0.1\",\n\t\t\"nmmes-module-he-audio\": \"^0.0.1\",\n\t\t\"nmmes-module-normalize\": \"^0.0.1\",\n\t\t\"nmmes-module-sample\": \"^0.0.1\",\n\t\t\"nmmes-module-stats\": \"^0.0.1\",\n\t\t\"node-noop\": \"^1.0.0\",\n\t\t\"optional\": \"^0.1.3\",\n\t\t\"pidusage\": \"^1.1.5\",\n\t\t\"recursive-readdir\": \"^2.2.1\",\n\t\t\"source-map-support\": \"^0.4.15\",\n\t\t\"tracer\": \"^0.8.9\",\n\t\t\"yargs\": \"^8.0.1\"\n\t},\n\t\"devDependencies\": {\n\t\t\"babel-core\": \"^6.24.1\",\n\t\t\"babel-eslint\": \"^7.2.3\",\n\t\t\"babel-loader\": \"^7.0.0\",\n\t\t\"babel-plugin-module-resolver\": \"^2.7.1\",\n\t\t\"babel-preset-es2016\": \"^6.24.1\",\n\t\t\"babel-preset-stage-2\": \"^6.24.1\",\n\t\t\"babel-register\": \"^6.24.1\",\n\t\t\"babel-runtime\": \"^6.23.0\",\n\t\t\"eslint\": \"^3.19.0\",\n\t\t\"source-map-loader\": \"^0.2.1\",\n\t\t\"webpack\": \"^2.5.1\",\n\t\t\"webpack-node-externals\": \"^1.6.0\"\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../package.json\n// module id = 0\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 1\n// module chunks = 0","import mime from 'mime';\nimport Path from 'path';\n\nconst SUPPORTED_EXTENSIONS = ['.m2ts'];\n\nexport function isVideo(path) {\n    return mime.lookup(path).startsWith('video/') || ~SUPPORTED_EXTENSIONS.indexOf(Path.extname(path))\n}\nexport default isVideo;\n\n\n\n// WEBPACK FOOTER //\n// ./utils/isVideo.js","module.exports = require(\"chalk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chalk\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"yargs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"yargs\"\n// module id = 4\n// module chunks = 0","import Promise from 'bluebird';\nPromise.config({\n    // Enable warnings\n    warnings: true,\n    // Enable long stack traces\n    longStackTraces: true,\n    // Enable cancellation\n    cancellation: false,\n    // Enable monitoring\n    monitoring: false\n});\nimport {\n    Video,\n    Logger\n} from 'nmmes-backend';\n\nimport Package from '../package.json';\nimport Screen from './screen.js';\nimport {\n    List,\n    Item\n} from './list.js';\nimport Options from './options.js';\nimport * as utils from './utils';\n\nimport chalk from 'chalk';\nimport yargs from 'yargs';\nimport fs from 'fs-extra';\nimport {\n    PassThrough\n} from 'stream';\nimport Path from 'path';\n\nconst heAudio = require('nmmes-module-he-audio');\nconst encoder = require('nmmes-module-encoder');\nconst normalizer = require('nmmes-module-normalize');\nconst autocrop = require('nmmes-module-autocrop');\nconst stats = require('nmmes-module-stats');\nconst sample = require('nmmes-module-sample');\n\nlet screen, videos = [],\n    currentVideoIdx = 0;\n\nif (!Options.simple) {\n    screen = new Screen();\n    screen.logStream = Logger.stream = new PassThrough();\n    console.oldLog = console.log;\n    console.oldError = console.error;\n    console.log = function() {\n        console.oldLog.apply(console, arguments);\n        Logger.log.apply(Logger, arguments);\n    }\n    console.error = function() {\n        console.oldError.apply(console, arguments);\n        Logger.error.apply(Logger, arguments);\n    }\n\n    screen.key(['escape', 'q', 'C-c'], function(ch, key) {\n        if (++killCounter > 2) {\n            Logger.error('Kill signal receieved more than 9 times, forcing process death... DIE ALREADY!');\n            screen.destroy();\n            process.kill(-process.pid, 'SIGKILL');\n        }\n        if (screen._status.content === 'Running...') {\n            videos[currentVideoIdx].stop(new Error('Stopping.'));\n            return;\n        }\n\n        process.kill(-process.pid, 'SIGTERM');\n    });\n}\n\nfunction createVideos(paths) {\n    return new Promise(function(resolve, reject) {\n        Logger.debug(`Videos found [${paths.length}]:\\n\\t-`, paths.join('\\n\\t-'));\n        for (let path of paths) {\n\n            let modules = [];\n            if (Options.normalizeLevel >= 1) {\n                modules.push(new autocrop());\n            }\n            if (Options.normalizeLevel >= 2) {\n                modules.push(new normalizer());\n            }\n            if (Options.heAudio) {\n                modules.push(new heAudio({\n                    encodeLossless: Options.forceHeAudio\n                }));\n            }\n            modules.push(new encoder({\n                defaults: {\n                    video: {\n                        'c:{POS}': Options.videoCodec,\n                        'crf': Options.quality,\n                        'preset': Options.preset\n                    }\n                }\n            }));\n            if (Options.stats) {\n                if (Options.stats === true)\n                    modules.push(new stats());\n                else\n                    modules.push(new stats({\n                        output: Options.stats\n                    }));\n            }\n            if (Options.sample) {\n                modules.push(new sample({\n                    length: Options.previewLength\n                }));\n            }\n\n            let tempOutput = Path.format({\n                dir: Options.tempDirectory,\n                name: Path.parse(path).name,\n                ext: '.' + Options.outputFormat\n            });\n            let finalOutput = Path.format({\n                    dir: Path.resolve(Options.destination, Path.dirname(Path.relative(Options._[0], path))),\n                    name: Path.parse(path).name,\n                    ext: '.' + Options.outputFormat\n                });\n            if (!Options.delete)\n                if (fs.existsSync(finalOutput)) {\n                    Logger.warn('Output for', chalk.bold(Path.basename(path)), 'already exists at', chalk.bold(finalOutput) + '. Skipping...');\n                    continue;\n                }\n            videos.push(new Video({\n                input: {\n                    path\n                },\n                output: {\n                    path: tempOutput\n                },\n                modules,\n                finalOutput\n            }));\n        }\n        resolve(videos);\n    });\n}\n\nfunction createVideoList(videos) {\n    return new Promise(function(resolve, reject) {\n        let items = videos.reduce((arr, video) => {\n            let list = new List(video.modules.reduce((arr, module) => {\n                let item = new Item({\n                    title: module.displayName\n                });\n                module.once('start', () => item.state = 'active');\n                module.once('stop', (err) => {\n                    if (err) {\n                        item.state = 'failed';\n                        item.error = err.message.split('\\n')[0];\n                    } else {\n                        item.state = 'completed';\n                    }\n                });\n                arr.push(item);\n                return arr;\n            }, []));\n            let item = new Item({\n                title: video.input.base,\n                content: list\n            });\n            video.once('start', () => {\n                item.state = 'active';\n            });\n            video.once('stopped', (err) => {\n                if (err) {\n                    item.state = 'failed';\n                    item.error = err.message.split('\\n')[0];\n                } else {\n                    Logger.info('Moving to final destination...');\n                    fs.move(video.output.path, video.finalOutput, {overwrite: Options.delete}).then(() => {\n                            Logger.info('Move complete.');\n                            item.state = 'completed';\n                        })\n                        .catch((err) => {\n                            item.state = 'failed';\n                            item.error = err.message;\n                        });\n                }\n            });\n            arr.push(item);\n            return arr;\n        }, []);\n\n        resolve(new List(items));\n    });\n}\n\nfunction loop(i = 0) {\n    return new Promise(function(resolve, reject) {\n\n        if (i >= videos.length)\n            return resolve();\n\n        currentVideoIdx = i;\n\n        videos[i].once('stopped', (err) => {\n            if (err && err.message === 'Stopping.') return reject(err);\n            loop(++i).then(resolve, reject);\n        }).start();\n\n        screen.statusRunning();\n    });\n}\n\nlet killCounter = 0;\n\n// Set log level to trace if debug is enabled\nif (Options.debug) {\n    Logger.setLevel('trace');\n}\n\n\n// Do processing\nLogger.info('Locating video file(s) at', chalk.bold(Options._[0]) + '.');\nutils.getVideoFiles(Options._[0])\n    .then(createVideos)\n    .then(createVideoList)\n    .then((list) => {\n        if (screen)\n            screen.videoList = list\n    })\n    .then(loop)\n    .then(() => {\n        Logger.info('All videos completed processing!');\n    })\n    .catch((err) => {\n        // Logger.error(err);\n    })\n    .then(() => {\n        if (screen)\n            screen.statusFinished();\n    });\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import cliSpinners from 'cli-spinners';\nimport figures from 'figures';\nimport throttle from 'lodash.throttle';\nimport chalk from 'chalk';\nimport {noop} from 'node-noop';\n\nconst THROTTLE = 80;\n\nexport class Item {\n    _state = 'pending'\n    _error = ''\n    _open = false\n    output = ''\n    onUpdate = noop\n    constructor(options) {\n        Object.assign(this, options);\n        if (this.content)\n            this.content.onUpdate = this.render;\n        this.render();\n    }\n    set state(state) {\n        this._state = state;\n        if (state === 'active') {\n            this.interval = setInterval(this.render.bind(this), 80);\n        } else {\n            if (this.interval)\n                clearInterval(this.interval);\n        }\n        this.render();\n    }\n    get state() {\n        return this._state;\n    }\n    set open(open) {\n        this._option = open;\n        this.render();\n    }\n    set error(err) {\n        this._error = chalk.red('- ' + err.trim());\n        this.render();\n    }\n    render = throttle(() => {\n        this.output = `${this.icon} ${this.title} ${this._error}`;\n        if (this.content && (this._state === 'active' || this._state === 'failed' || this._open === true)) {\n            this.output += '\\n   ' + this.content.output.replace(/\\n/g, '\\n   ');\n        }\n        this.onUpdate();\n    }, THROTTLE)\n    iconFrame = 0;\n    get icon() {\n        let icon = '';\n        if (this.iconFrame >= cliSpinners.dots.frames.length)\n            this.iconFrame = 0;\n        switch (this._state) {\n            case 'active':\n                icon = chalk.blue(cliSpinners.dots.frames[this.iconFrame++]);\n                break;\n            case 'completed':\n                icon = figures.tick;\n                break;\n            case 'failed':\n                icon = figures.cross;\n                break;\n            default:\n                icon = '-';\n                break;\n        }\n        return `${icon} `;\n    }\n}\n\nexport class List {\n    output = ''\n    onUpdate = noop\n    constructor(items) {\n        let _self = this;\n        for (let item of items) {\n            item.onUpdate = () => {\n                _self.render();\n            };\n        }\n        this.items = items;\n        this.render();\n    }\n    render = throttle(() => {\n        this.output = this.items.reduce((arr, item) => {\n            arr.push(item.output);\n            return arr;\n        }, []).join('\\n');\n        this.onUpdate();\n    }, THROTTLE);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./list.js","import Path from 'path';\nimport os from 'os';\nimport Package from '../package.json';\nimport yargs from 'yargs';\nimport optional from 'optional';\n\nconst userSettings = optional(Path.resolve(process.cwd(), Package.name + '-settings.json')) || {};\n\nlet args = yargs\n    .usage('Usage: $0 [options] file|directory')\n    .options({\n        'version': {\n            describe: 'Displays version information.',\n            group: 'General:'\n        },\n        'help': {\n            describe: 'Displays help page.',\n            group: 'General:'\n        },\n        'g': {\n            alias: 'temp-directory',\n            default: userSettings['temp-directory'] || Path.resolve(os.tmpdir(), Package.name),\n            describe: 'Folder where files are stored during encoding.',\n            type: 'string',\n            normalize: true,\n            group: 'General:'\n        },\n        'v': {\n            alias: 'verbose',\n            default: userSettings['verbose'] || false,\n            describe: 'Enables verbose mode. Prints extra information.',\n            type: 'boolean',\n            group: 'General:'\n        },\n        'o': {\n            alias: 'overwrite',\n            default: userSettings['override'] || false,\n            describe: 'Allows conversion of videos that are already encoded by the hevc codec.',\n            type: 'boolean',\n            group: 'General:'\n        },\n        'p': {\n            alias: 'preview',\n            default: userSettings['preview'] || false,\n            describe: 'Only encode a preview of the video starting at middle of video. See -l/--preview-length for more info.',\n            type: 'boolean',\n            group: 'General:'\n        },\n        'd': {\n            alias: 'destination',\n            default: userSettings['destination'] || Path.resolve(process.cwd(), 'h265'),\n            describe: 'Folder where encoded files are output.',\n            type: 'string',\n            normalize: true,\n            group: 'General:'\n        },\n        // 'log-file': {\n        //     default: userSettings['log-file'] || Path.resolve(process.cwd(), 'h265ize.log'),\n        //     describe: 'Sets the log file location for all output from h265ize. Enable debug mode via the --debug flag to output to the log file.',\n        //     type: 'string',\n        //     normalize: true,\n        //     group: 'General:'\n        // },\n        'm': {\n            alias: 'preset',\n            default: userSettings['preset'] || 'fast',\n            describe: 'x265 encoder preset.',\n            choices: ['ultrafast', 'superfast', 'veryfast', 'faster', 'fast', 'medium', 'slow', 'slower', 'veryslow', 'placebo'],\n            type: 'string',\n            group: 'General:'\n        },\n        'n': {\n            alias: 'native-language',\n            default: userSettings['native-language'] || '',\n            describe: 'The native language used to select default audio and subtitles. You may use 3 letter or 2 letter ISO 639-2 Alpha-3/Alpha-2 codes or the full language name. Examples: [eng|en|English|jpn|ja|Japanese]',\n            type: 'string',\n            group: 'General:'\n        },\n        'f': {\n            alias: 'output-format',\n            default: userSettings['output-format'] || 'mkv',\n            describe: 'Output container format.',\n            choices: ['mkv', 'mp4', 'm4v'],\n            type: 'string',\n            group: 'General:'\n        },\n        'c': {\n            alias: 'video-codec',\n            default: userSettings['video-codec'] || 'libx265',\n            describe: 'Video codec to encode the video to.',\n            choices: ['libx264', 'libx265'],\n            type: 'string',\n            group: 'Video:'\n        },\n        'as-preset': {\n            default: userSettings['as-preset'] || 'none',\n            describe: 'My personal presets. Descriptions of each preset\\'s use and function can be found on the github page.',\n            choices: ['anime', 'testing-ssim', 'none'],\n            type: 'string',\n            group: 'Video:'\n        },\n        'x': {\n            alias: 'extra-options',\n            default: userSettings['extra-options'] || '',\n            describe: 'Extra x265 options. Options can be found on the x265 options page.',\n            type: 'string',\n            group: 'Video:'\n        },\n        'q': {\n            alias: 'quality',\n            default: userSettings['quality'] || 19,\n            describe: 'Sets the qp quality target',\n            type: 'number',\n            group: 'Video:'\n        },\n        'video-bitrate': {\n            default: userSettings['video-bitrate'] || 0,\n            describe: 'Sets the video bitrate, set to 0 to use qp rate control instead of a target bitrate.',\n            type: 'number',\n            group: 'Video:'\n        },\n        'accurate-timestamps': {\n            default: userSettings['accurate-timestamps'] || false,\n            describe: 'Become blu-ray complient and reduce the max keyInt to the average frame rate.',\n            type: 'boolean',\n            group: 'Video:'\n        },\n        'he-audio': {\n            default: userSettings['he-audio'] || false,\n            describe: 'Re-encode audio to opus at 40kbps/channel.',\n            type: 'boolean',\n            group: 'Audio:'\n        },\n        'force-he-audio': {\n            default: userSettings['force-he-audio'] || false,\n            describe: 'Convert all audio to HE format, including lossless formats.',\n            type: 'boolean',\n            group: 'Audio:'\n        },\n        'downmix-he-audio': {\n            default: userSettings['downmix-he-audio'] || false,\n            describe: 'Downmix he-audio opus to Dolby Pro Logic II at 40 kbps/channel. Enables he-audio.',\n            type: 'boolean',\n            group: 'Audio:'\n        },\n        'multi-pass': {\n            default: userSettings['mutli-pass'] || 0,\n            describe: 'Enable multiple passes by the encoder. Must be greater than 1.',\n            type: 'number',\n            group: 'Video:'\n        },\n        'bitdepth': {\n            default: userSettings['bitdepth'] || 0,\n            describe: 'Forces encoding videos at a specific bitdepth. Set to 0 to maintain original bitdepth.',\n            type: 'number',\n            group: 'Video:'\n        },\n        'screenshots': {\n            default: userSettings['screenshots'] || false,\n            describe: 'Take 6 screenshots at regular intervals throughout the finished encode.',\n            type: 'boolean',\n            group: 'Video:'\n        },\n        'normalize-level': {\n            default: userSettings['normalize-level'] || 2,\n            describe: 'Level of normalization to be applied. See https://github.com/FallingSnow/h265ize/issues/56 for more info.',\n            type: 'number',\n            group: 'Video:'\n        },\n        'scale': {\n            default: userSettings['scale'] || false,\n            describe: 'Width videos should be scaled to. Videos will always maintain original aspect ratio. [Examples: 720, 480]',\n            type: 'number',\n            group: 'Video:'\n        },\n        'stats': {\n            default: userSettings['stats'] || false,\n            describe: 'Output a stats file containing stats to this destination.',\n            type: 'string',\n            group: 'Advanced:'\n        },\n        'debug': {\n            default: userSettings['debug'] || false,\n            describe: 'Enables debug mode. Prints extra debugging information.',\n            type: 'boolean',\n            group: 'Advanced:'\n        },\n        'delete': {\n            default: userSettings['delete'] || false,\n            describe: 'Delete source after encoding is complete and replaces it with new encode. [DANGER]',\n            type: 'boolean',\n            group: 'Advanced:'\n        },\n        'l': {\n            alias: 'preview-length',\n            default: userSettings['preview-length'] || 30000,\n            describe: 'Milliseconds to encode in preview mode. Max is half the length of input video.',\n            type: 'number',\n            group: 'Advanced:'\n        },\n        'watch': {\n            default: userSettings['watch'] || '',\n            describe: 'Watches a directory for new video files to be converted.',\n            type: 'string',\n            group: 'Advanced:'\n        },\n        'simple': {\n            default: userSettings['simple'] || false,\n            describe: 'Disables the interface. Simply prints to the terminal.',\n            type: 'boolean',\n            group: 'Advanced:'\n        },\n        'test': {\n            default: userSettings['test'] || false,\n            describe: 'Puts nmmes in test mode. No files will be encoded.',\n            type: 'boolean',\n            group: 'Advanced:'\n        },\n    })\n    .argv;\n\nif (args.help) {\n    console.log('Package:', Package.name, '\\t', 'Version:', Package.version);\n    console.log('Description:', Package.description);\n    yargs.showHelp();\n    process.exit(0);\n} else if (args.version) {\n    console.log(Package.name, Package.version);\n    process.exit(0);\n}\n\n// Provide usage information if no path was provided\nif (!args._[0]) {\n    console.log('Package:', Package.name, '\\t', 'Version:', Package.version);\n    console.log('Description:', Package.description);\n    yargs.showHelp();\n    process.exit();\n}\n\nexport default args;\n\n\n\n// WEBPACK FOOTER //\n// ./options.js","import blessed from 'blessed';\nimport Package from '../package.json';\nimport merge from 'lodash.merge';\n// import pusage from 'pidusage';\n\nconst defaults = {\n    text: {\n        padding: {\n            left: 1,\n            right: 1\n        }\n    },\n    box: {\n        border: {\n            type: 'line'\n        },\n        style: {\n            border: {\n                fg: '#f0f0f0'\n            }\n        },\n        padding: {\n            left: 1,\n            right: 1\n        }\n    }\n};\n\nlet program = blessed.program();\nprogram.hideCursor();\n\nexport default class Screen extends blessed.screen {\n    title = Package.name;\n    constructor() {\n        super({\n            program,\n            fastCSR: true,\n            dockBorders: true\n        });\n        this.init();\n    }\n    // updateSysInfo() {\n    //     let _self = this;\n    //     pusage.stat(process.pid, function(err, stat) {\n    //         if (err) {\n    //             _self._sysInfo.setContent(err.message);\n    //             return _self.render();\n    //         }\n    //         _self._sysInfo.setContent(`CPU: ${stat.cpu.toFixed(0)}\\tMEM: ${stat.memory}`);\n    //         _self.render();\n    //     })\n    // }\n    init() {\n        // this.sysInfoInterval = setInterval(this.updateSysInfo.bind(this), 1000);\n        this._statusBar = blessed.box(merge({}, defaults.box, {\n            parent: this,\n            bottom: 0,\n            left: 0,\n            right: 0,\n            height: 1,\n            padding: {\n                left: 0,\n                right: 0\n            },\n            border: false,\n        }));\n        this._status = blessed.text(merge({}, defaults.text, {\n            parent: this._statusBar,\n            style: {\n                bg: 'blue'\n            },\n            content: 'Ready'\n        }));\n        // this._sysInfo = blessed.text(merge({}, defaults.text, {\n        //     parent: this._statusBar,\n        //     content: ''\n        // }));\n\n        this._videoList = blessed.box(merge({}, defaults.box, {\n            parent: this,\n            label: 'Video List',\n            left: 0,\n            top: 0,\n            bottom: this._statusBar.height,\n            width: 50\n        }));\n\n        this._log = blessed.log(merge({}, defaults.box, {\n            parent: this,\n            scrollback: 10000,\n            scrollbar: {\n                ch: ' ',\n                inverse: true\n            },\n            mouse: true,\n            label: 'Log',\n            right: 0,\n            top: 0,\n            bottom: this._statusBar.height,\n            width: this.width - this._videoList.width + 1\n        }));\n        this._log.on('scroll', this.render.bind(this));\n\n        this._videoListStatus = blessed.text(merge({}, defaults.text, {\n            parent: this._videoList,\n            left: 0,\n            right: 0,\n            height: 1,\n            bottom: 0,\n            align: 'center',\n            content: 'Successful: 0\\t Failed: 0',\n        }));\n        this._list = blessed.box(merge({}, defaults.box, {\n            parent: this._videoList,\n            scrollable: true,\n            scrollbar: {\n                ch: ' ',\n                inverse: true\n            },\n            mouse: true,\n            left: 0,\n            top: 0,\n            right: 0,\n            border: false,\n            bottom: this._videoListStatus.height,\n        }));\n        this._list.on('scroll', this.render.bind(this));\n        this.render();\n    }\n    set videoList(list) {\n        let _self = this;\n        list.onUpdate = () => {\n            let failed = 0,\n                successful = 0;\n            for (let item of list.items) {\n                if (item.state === 'failed')\n                    failed++;\n                else if (item.state === 'successful')\n                    successful++;\n            }\n            _self._videoListStatus.setContent(`Successful: ${successful}\\tFailed: ${failed}`);\n            _self._list.setContent(list.output);\n            _self.render();\n        };\n        this._list.setContent(list.output);\n        this.render();\n    }\n    set logStream(stream) {\n        let _self = this;\n        stream.on('data', (buffer) => {\n            let string = buffer.toString('utf8').trim();\n            _self._log.pushLine(string);\n            _self.render();\n        });\n    }\n    statusWatching() {\n        this._status.style.bg = 'blue';\n        this._status.setContent('Watching...');\n        this.render();\n    }\n    statusRunning() {\n        this._status.style.bg = 'green';\n        this._status.setContent('Running...');\n        this.render();\n    }\n    statusFinished() {\n        this._status.style.bg = 'red';\n        this._status.setContent('Finished');\n        this.render();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./screen.js","import fs from 'fs';\nimport recursive from 'recursive-readdir';\nimport isVideo from './isVideo.js';\nexport function getVideoFiles(path) {\n    return new Promise(function(resolve, reject) {\n        function ignoreFunc(file, stats) {\n            if (stats.isDirectory())\n                return false;\n            return !isVideo(file);\n        }\n        fs.stat(path, (err, stats) => {\n            if (err)\n                return reject(err);\n            if (stats.isFile() && isVideo(path)) {\n                return resolve([path]);\n            } else if (stats.isDirectory()) {\n                recursive(path, [ignoreFunc]).then(resolve, reject);\n            } else {\n                return reject(new Error('Unsupported file type.'));\n            }\n        });\n    });\n}\nexport default getVideoFiles;\n\n\n\n// WEBPACK FOOTER //\n// ./utils/getVideoFiles.js","export * from './isVideo.js';\nexport * from './getVideoFiles.js';\n\n\n\n// WEBPACK FOOTER //\n// ./utils/index.js","module.exports = require(\"blessed\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"blessed\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"bluebird\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebird\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"cli-spinners\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cli-spinners\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"figures\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"figures\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"fs-extra\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs-extra\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"lodash.merge\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash.merge\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"lodash.throttle\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash.throttle\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"mime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mime\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"nmmes-backend\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nmmes-backend\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"nmmes-module-autocrop\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nmmes-module-autocrop\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"nmmes-module-encoder\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nmmes-module-encoder\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"nmmes-module-he-audio\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nmmes-module-he-audio\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"nmmes-module-normalize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nmmes-module-normalize\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"nmmes-module-sample\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nmmes-module-sample\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"nmmes-module-stats\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nmmes-module-stats\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"node-noop\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-noop\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"optional\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"optional\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"os\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"os\"\n// module id = 29\n// module chunks = 0","module.exports = require(\"recursive-readdir\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"recursive-readdir\"\n// module id = 30\n// module chunks = 0","module.exports = require(\"stream\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"stream\"\n// module id = 31\n// module chunks = 0"],"sourceRoot":""}